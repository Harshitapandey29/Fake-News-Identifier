<!-- Fake News Checker Form -->
<section id="checker" class="wrapper style1 special">
  <div class="inner">
    <header class="major">
      <h2>Paste a News Headline or Article Below</h2>
    </header>
    <form id="fakeNewsForm">
      <textarea id="newsInput" rows="6" placeholder="Enter news content to verify..." required></textarea>
      <br><br>
      <button type="submit" class="button primary">Check News</button>
    </form>
    <div id="result" style="margin-top: 20px; font-size: 1.2em;"></div>
  </div>
</section>

<!-- JS Logic -->
<script>
  document.getElementById("fakeNewsForm").addEventListener("submit", async function(event) {
    event.preventDefault();

    const input = document.getElementById("newsInput").value;
    const resultDiv = document.getElementById("result");
    resultDiv.innerHTML = "Checking...";

    try {
      const response = await fetch("https://fake-news.azurewebsites.net/", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ text: input })
      });

      if (!response.ok) throw new Error("Server error");

      const data = await response.json();
      resultDiv.innerHTML = `<strong>Result:</strong> ${data.prediction}`;
    } catch (error) {
      resultDiv.innerHTML = `<span style="color:red;">Error: ${error.message}</span>`;
    }
  });
</script>
